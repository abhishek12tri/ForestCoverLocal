<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Prediction</title>
        <meta charset="utf-8">

    </head>

    <body>

        <nav class="navbar">
            <div><h2>Prediction</h2></div>
        </nav>

        <section class="testimonials">
            <div class="input-section">
                <form method="post" id="fetch_form" enctype="multipart/form-data">
                    <div class="form-group">
                        <input type="text" name="inputfile" id="inputfile" placeholder="File Path" required>
                    </div>

                    <div class="form-submit row">
                        <div class="predict_btn">
                            <input type="button" name="submit" value="Predict">
                        </div>
                        
                    </div>
                </form>
            </div>

            <div class="resuclt-section">
                <div class="result-container">
                    <h5>Results</h5>
                    <div class="result_section">

                    </div>
                </div>
            </div>
        </section>
        

        <footer>
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>

            <script type="text/javascript">
                jQuery(document).ready(function(){
                    
                    jQuery('input[name="submit"]').click(function(e){
                        e.preventDefault();
                        jQuery(".result_section").html("");

                        var data_path = jQuery("#inputfile").val();

                        jQuery.ajax({
                            url: "/predict",
                            type: "POST",
                            data : {
                                "file_path": data_path
                            },
                            success: function(response){
                                console.log(response);
                                jQuery(".result_section").html(response);
                            }
                        });

                        console.log(data_path);
                    })
                });
            </script>

        </footer>

    </body>
</html>
